/*
 * D2JS
 * Copyright (C) SatisKia. All rights reserved.
 */
(function(n,t){function ff(){return!!u.createElement(vu).getContext}function nh(){f=[];f[0]=8;f[1]=9;f[2]=13;f[3]=16;f[4]=17;f[5]=32;f[6]=37;f[7]=38;f[8]=39;f[9]=40;f[10]=48;f[11]=49;f[12]=50;f[13]=51;f[14]=52;f[15]=53;f[16]=54;f[17]=55;f[18]=56;f[19]=57;f[20]=67;f[21]=88;f[22]=90;init();_USE_EXCANVAS||ff()?(_USE_LAYOUTMOUSE&&(et=!0,_USE_MOUSE=!0),_USE_LAYOUTTOUCH&&(et=!0,_USE_TOUCH=!0),_USE_KEY&&(o(u,ro,kh),o(u,uo,dh)),_USE_TOUCH&&(o(u,tr,cc),o(u,ir,lc),o(u,rr,ac)),b=u.createElement(yu),b.style.cssText=ef,u.body.appendChild(b),start()&&of()):error()}function th(){processEvent(13,n.orientation)}function ih(){processEvent(14,0)}function of(){hi=!1;k()}function rh(){hi=!0}function sf(){if(_USE_DRAWSTRINGEX&&(h=0),i.clearRect(0,0,ar(),vr()),i.save(),paint(li),i.restore(),_USE_DRAWSTRINGEX)for(var n=h;n<a.length;n++)a[n].innerHTML=""}function hf(){g=frameTime()-(lt-ci);g<0&&(g=0);g>frameTime()&&(g=frameTime())}function pt(){while(lt>ci&&lt-ci<frameTime())lt=ot()}function k(){if(hi){hi=!1;return}ci=ot();sf();lt=ot();_USE_REQUESTANIMATIONFRAME?n.requestAnimationFrame?(pt(),n.requestAnimationFrame(k)):n.webkitRequestAnimationFrame?(pt(),n.webkitRequestAnimationFrame(k)):n.mozRequestAnimationFrame?(pt(),n.mozRequestAnimationFrame(k)):n.oRequestAnimationFrame?(pt(),n.oRequestAnimationFrame(k)):n.msRequestAnimationFrame?(pt(),n.msRequestAnimationFrame(k)):(hf(),n.setTimeout(k,g)):(hf(),n.setTimeout(k,g))}function o(n,t,i){n.addEventListener?n.addEventListener(t,i,!1):n.attachEvent?n.attachEvent(ui+t,i):n[ui+t]=i}function y(n,t,i){n.removeEventListener?n.removeEventListener(t,i,!1):n.detachEvent?n.detachEvent(ui+t,i):n[ui+t]=null}function uh(n){e=u.getElementById(n);i=e.getContext(pu);at=!1;i.textAlign=ur;i.textBaseline=fr;_USE_MOUSE&&(o(e,fi,af),o(e,wu,vf),o(e,er,ec),o(e,or,oc),o(e,ei,yf));li=new fu}function fh(n){li=n}function eh(){return e}function oh(){return i}function sh(){return li}function hh(n,t){e.width=n;e.height=t;i.textAlign=ur;i.textBaseline=fr}function ar(){return parseInt(e.width)}function vr(){return parseInt(e.height)}function pi(n){for(var t=0;n;)t+=n.offsetLeft,n=n.offsetParent;return t}function wi(n){for(var t=0;n;)t+=n.offsetTop,n=n.offsetParent;return t}function ch(){if(!!u.documentElement&&u.documentElement.clientWidth>0)return u.documentElement.clientWidth;if(!u.body){if(!!n.innerWidth)return n.innerWidth}else return u.body.clientWidth;return 0}function lh(){if(!!u.documentElement&&u.documentElement.clientHeight>0)return u.documentElement.clientHeight;if(!u.body){if(!!n.innerHeight)return n.innerHeight}else return u.body.clientHeight;return 0}function ah(){return n.orientation}function cf(n,t){var u="",i=n.indexOf(fo+t+sr),r;return i<0&&(i=n.indexOf("&"+t+sr)),i>=0&&(i+=t.length+2,r=n.indexOf("&",i),r<0&&(r=n.length),u=n.substring(i,r)),decodeURIComponent(u)}function vh(n){for(var i,r=n.split("&"),u=[],t=0;t<r.length;t++)i=r[t].split(sr),u[i[0]]=decodeURIComponent(i[1]);return u}function yh(n){return cf(au.href,n)}function ph(n){return u.getElementById(n)}function wh(n){var t=u.getElementById(n).innerHTML;return t=t.replace(new RegExp("&lt;",ft),"<"),t.replace(new RegExp("&gt;",ft),">")}function ot(){return(new Date).getTime()}function bh(n){var i=n.length,t;for(f=[],t=0;t<i;t++)f[t]=n[t]}function yr(n){for(var i=f.length,t=0;t<i;t++)if(f[t]==n)return 1<<t;return 0}function kh(n){var t=yr(n.keyCode);(vt&t)==0&&(vt+=t);processEvent(4,n.keyCode)}function dh(n){var t=yr(n.keyCode);(vt&t)!=0&&(vt-=t);processEvent(5,n.keyCode)}function gh(){return vt}function nc(n,t,i,r,u){this.x=n;this.y=t;this.width=i;this.height=r;this.id=u;this.shape=null;this.coords=null}function tc(){r=[]}function lf(n,t,i,u,f){r[r.length]=new nc(n,t,i,u,f)}function ic(n,t,u,f,e,o,s){var c,h;if(lf(n,t,u,f,e),!!i.isPointInPath)for(r[r.length-1].shape=o,c=s.split(w),r[r.length-1].coords=new Array(c.length),h=0;h<c.length;h++)r[r.length-1].coords[h]=parseInt(c[h])}function rc(n){if(r.length>0)for(var t=0;t<r.length;t++)if(r[t].id==n)return r[t];return null}function st(n,t){var u,f;if(r.length>0)for(u=0;u<r.length;u++)if(r[u].shape==null){if(n>=r[u].x&&n<r[u].x+r[u].width&&t>=r[u].y&&t<r[u].y+r[u].height)return r[u].id}else{if(i.beginPath(),r[u].shape==eo)i.arc(r[u].x+r[u].coords[0],r[u].y+r[u].coords[1],r[u].coords[2],0,Math.PI*2,!1);else if(r[u].shape==oo){for(i.moveTo(r[u].x+r[u].coords[0],r[u].y+r[u].coords[1]),f=2;f<r[u].coords.length-1;f+=2)i.lineTo(r[u].x+r[u].coords[f],r[u].y+r[u].coords[f+1]);i.closePath()}else r[u].shape==so&&(i.moveTo(r[u].x+r[u].coords[0],r[u].y+r[u].coords[1]),i.lineTo(r[u].x+r[u].coords[2],r[u].y+r[u].coords[1]),i.lineTo(r[u].x+r[u].coords[2],r[u].y+r[u].coords[3]),i.lineTo(r[u].x+r[u].coords[0],r[u].y+r[u].coords[3]),i.closePath());if(i.isPointInPath(n,t))return r[u].id}return-1}function uc(){for(var i=0,t,n=0;n<v.length;n++)t=st(v[n],nt[n]),t>=0&&(i|=1<<t);return i}function fc(n){return 1<<n}function wt(n){ai=n.clientX+u.body.scrollLeft+u.documentElement.scrollLeft-pi(e);vi=n.clientY+u.body.scrollTop+u.documentElement.scrollTop-wi(e)}function af(n){if(wt(n),et&&r.length>0){var t=st(ai,vi);if(t>=0){processEvent(6,t);return}}processEvent(8,0)}function vf(n){wt(n);processEvent(9,0)}function ec(n){wt(n);processEvent(10,0)}function oc(n){wt(n);processEvent(11,0)}function yf(n){if(wt(n),et&&r.length>0){var t=st(ai,vi);if(t>=0){processEvent(7,t);return}}processEvent(12,0)}function sc(){return ai}function hc(){return vi}function pr(n){v=[];nt=[];for(var t=0;t<n.touches.length;t++)v[t]=n.touches[t].pageX-pi(e),nt[t]=n.touches[t].pageY-wi(e)}function cc(n){if(pr(n),tt=v[0],it=nt[0],tt>=0&&tt<ar()&&it>=0&&it<vr()){if(yi=!0,et&&r.length>0){var t=st(tt,it);if(t>=0){processEvent(6,t);n.preventDefault();return}}processEvent(15,0);n.preventDefault()}}function lc(n){yi&&(pr(n),tt=v[0],it=nt[0],processEvent(16,0),n.preventDefault())}function ac(n){if(yi){if(yi=!1,pr(n),et&&r.length>0){var t=st(tt,it);if(t>=0){processEvent(7,t);n.preventDefault();return}}processEvent(17,0);n.preventDefault()}}function vc(){return v.length}function yc(n){return n<v.length?v[n]:tt}function pc(n){return n<nt.length?nt[n]:it}function wc(n){au.replace(n)}function wr(n,t){ut=n;yt=t.indexOf(ho)>=0?ht+t+ht:t;b.style.cssText=ef+bu+ut+oi+yt}function br(n){b.innerHTML=ht;var t=b.offsetWidth;return n=n.replace(new RegExp("<",ft),"&lt;"),n=n.replace(new RegExp(">",ft),"&gt;"),b.innerHTML=ht+n+ht,b.offsetWidth-t*2}function kr(){return ut}function pf(n,t,i){at||(h>=a.length&&(a[h]=u.createElement(yu),a[h].style.cssText=co,u.body.appendChild(a[h]),_USE_MOUSE&&(o(a[h],fi,af),o(a[h],wu,vf),o(a[h],ei,yf))),a[h].style.cssText=ku+(pi(e)+t)+du+(wi(e)+i-ut)+lo+rt+bu+ut+oi+yt,n=n.replace(new RegExp("<",ft),"&lt;"),n=n.replace(new RegExp(">",ft),"&gt;"),a[h].innerHTML=n,h++)}function wf(){return!!u.createElement(si).canPlayType}function bc(n){var t=u.createElement(si);return!t.canPlayType?!1:t.canPlayType(n).replace(new RegExp(ao),"")!=""}function dr(){this.element=null;this.state=0;this.volume=100;this.id=ot()}function kc(){this.element=null;this.src=null;this.tag=null}function c(){return _USE_AUDIOEX&&!wf()?!0:!1}function dc(n){if(c())return gr(n);try{var t=new dr;return t.element=new Audio(""),t.element.autoplay=!1,t.element.src=n,t.element.load(),t}catch(i){}return null}function gr(n){var t=new kc;return t.src=n,t}function gc(n,t){if(c())return bf(n,t,audioExElement());try{var i=new dr;return i.element=new Audio(""),i.element.autoplay=!1,i.element.src=n,i.element.loop=t,i.element.play(),i.state=1,i}catch(r){}return null}function bf(n,t,i){var r=gr(n);return nu(r,t,i),r}function nl(n){if(c())return!0;if(n!=null)try{if(n.element.readyState>=4)return!0}catch(t){}return!1}function kf(n){if(c()){df(n);return}if(n!=null&&n.state!=0){try{n.state==2?n.element.currentTime=0:n.state!=1||n.element.ended||(n.element.pause(),n.element.currentTime=0)}catch(t){}n.state=0}}function df(n){n!=null&&n.element!=null&&(n.element.setAttribute(hr,""),u.body.removeChild(n.element),n.element=null)}function tl(n){if((kf(n),!c())&&n!=null)try{n.element.load()}catch(t){}}function il(n,t){if(c()){nu(n,t,audioExElement());return}if(n!=null){if(n.state==1)try{n.element.ended||(n.element.pause(),n.element.currentTime=0)}catch(i){}try{n.element.loop=t;n.element.play();n.state=1}catch(i){}}}function nu(n,t,i){n!=null&&(n.element!=null&&(n.element.setAttribute(hr,""),u.body.removeChild(n.element)),n.tag=i,n.element=u.createElement(n.tag),n.element.setAttribute(hr,n.src),n.tag==si?(n.element.setAttribute(vo,ct),t&&n.element.setAttribute(cr,ct)):n.tag==yo?t&&n.element.setAttribute(cr,po):n.tag==wo&&(n.element.setAttribute(bo,ct),n.element.setAttribute(ko,go),n.element.setAttribute(ns,gu),n.element.setAttribute(ts,gu),t&&(n.element.setAttribute(cr,ct),n.element.setAttribute(is,ct))),u.body.appendChild(n.element))}function rl(n){if(c())return gf(n);if(n!=null&&n.state==1){try{return!n.element.ended}catch(t){}return!0}return!1}function gf(n){if(n!=null&&n.element!=null){if(n.tag==si)try{return!n.element.ended}catch(t){}return!0}return!1}function ne(n){if(!c()&&n!=null&&n.state==1)try{n.element.ended||(n.element.pause(),n.state=2)}catch(t){}}function ul(n){if(!c()&&n!=null&&n.state==2)try{n.element.play();n.state=1}catch(t){}}function fl(n,t){if(!c()&&n!=null){n.volume=t;try{n.element.volume=n.volume/100}catch(i){}}}function el(n){return c()?0:n!=null?n.volume:0}function ol(n){if(c())return 0;if(n!=null)try{return Math.floor(n.element.currentTime*1e3)}catch(t){}return 0}function sl(n,t,i,r){n!=null&&n.id==t&&n.state==1&&tu(n,i,r,!0)}function hl(n,t){n!=null&&n.id==t&&n.state==1&&ne(n)}function cl(n,t,i,r){try{var u=new dr;return u.element=new Audio(""),u.element.autoplay=!1,u.element.src=n,tu(u,t,i,r),u}catch(f){}return null}function tu(n,t,i,r){var u,f,e;if(n!=null)try{if(u=ot(),n.id=u,f=t/1e3,e=!1,n.state!=0)try{n.state==2?(n.element.currentTime=f,e=!0):n.state!=1||n.element.ended||(n.element.pause(),n.element.currentTime=f,e=!0)}catch(o){}if(n.element.loop=!1,n.element.play(),n.state=1,!e)try{n.element.currentTime=f}catch(o){}r?setTimeout(function(n,t,i,r){sl(n,t,i,r)},i,n,u,t,i):setTimeout(function(n,t){hl(n,t)},i,n,u)}catch(o){}}function bt(n){return n.e}function ll(n){return n.x}function al(n){return n.y}function vl(n){return n.width}function yl(n){return n.height}function iu(n,t){n.e.src=t}function p(n){n.e.style.cssText=ku+(pi(n.p)+n.x)+du+(wi(n.p)+n.y)+rs+n.width+us+n.height+fs}function pl(n,t){n.x=t;p(n)}function wl(n,t){n.y=t;p(n)}function bl(n,t,i){n.x=t;n.y=i;p(n)}function kl(n,t){n.width=t;p(n)}function dl(n,t){n.height=t;p(n)}function gl(n,t,i){n.width=t;n.height=i;p(n)}function te(n,t,i,r,u){n.x=t;n.y=i;n.width=r;n.height=u;p(n)}function ie(n,t,i){n.a!=null&&(n.a.setAttribute(es,t),n.a.setAttribute(os,i))}function bi(n,t,i,r,u,f,e){this.p=n;this.e=t;this.c=i;this.m=null;this.a=null;te(this,r,u,f,e)}function ki(n,t){n.onButtonDown=function(){processEvent(0,n.e)};n.onButtonOut=function(){processEvent(1,n.e)};n.onButtonOver=function(){processEvent(2,n.e)};n.onButtonUp=function(){processEvent(3,n.e)};var i=t?n.a:n.e;_USE_MOUSE&&(o(i,fi,n.onButtonDown),o(i,er,n.onButtonOut),o(i,or,n.onButtonOver),o(i,ei,n.onButtonUp));_USE_TOUCH&&(o(i,tr,n.onButtonDown),o(i,ir,n.onButtonOver),o(i,rr,n.onButtonUp))}function ru(n,t,i,r,f,e){var o=new bi(n,u.createElement(nf),!0,i,r,f,e);return iu(o,t),u.body.appendChild(o.e),ki(o,!1),o}function na(n,t,i,r,f,e,o,s,h){var c=new bi(n,u.createElement(nf),!0,i,r,f,e);return iu(c,t),c.e.setAttribute(ss,hs+o),c.e.setAttribute(cs,ls),u.body.appendChild(c.e),c.m=u.createElement(as),c.m.setAttribute(vs,o),u.body.appendChild(c.m),c.a=u.createElement(ys),ie(c,s,h),c.m.appendChild(c.a),ki(c,!0),c}function ta(n,t,i,r,f,e){var o=new bi(n,u.getElementById(t),!1,i,r,f,e);return ki(o,!1),o}function ia(n,t,i,r,f,e,o){var s=new bi(n,u.getElementById(t),!1,i,r,f,e);return s.a=u.getElementById(o),ki(s,!0),s}function re(n){if(n.c){var t=n.a!=null?n.a:n.e;_USE_MOUSE&&(y(t,fi,n.onButtonDown),y(t,er,n.onButtonOut),y(t,or,n.onButtonOver),y(t,ei,n.onButtonUp));_USE_TOUCH&&(y(t,tr,n.onButtonDown),y(t,ir,n.onButtonOver),y(t,rr,n.onButtonUp));u.body.removeChild(n.e)}}function ra(){return ps in s}function ua(n){var t=n.coords;fe=t.latitude;ee=t.longitude;oe=t.accuracy;se=t.altitude;he=t.altitudeAccuracy;ce=t.heading;le=t.speed;ae=n.timestamp;onGeolocation(4,"")}function fa(n){onGeolocation(n.code,n.message)}function ve(){this._enable_high_accuracy=!1;this._maximum_age=0;this._timeout=Number.POSITIVE_INFINITY}function fu(){this.f=0}function ye(){this.f=0;this.s=1}function ea(n){di++;var t=new Image;return t.onload=function(){di--},t.src=n,t}function oa(){return di>0}function pe(n,t){this.image=new Image;this.canvas=u.createElement(vu);this.context=this.canvas.getContext(pu);this.canvas.width=n;this.canvas.height=t;this.context.textAlign=ur;this.context.textBaseline=fr}function sa(){d=""}function ha(n,t){d.length>0&&(d+=w);d+='"'+n+'":'+t}function ca(n,i,r){r==t&&(r=!0);r&&(i=encodeURIComponent(i));d.length>0&&(d+=w);d+='"'+n+'":"'+i+'"'}function la(){return ws+d+bs}function aa(){kt=""}function va(n){kt.length>0&&(kt+=w);kt+=n}function ya(){return ks+kt+ds}function pa(n){return l=eval(gs+n+lr)}function wa(){return l.length!=t?l.length:0}function ba(n){return l.length!=t?Object.keys(l[n]):Object.keys(l)}function we(n,i){return l.length!=t?i in l[n]?l[n][i]:null:i in l?l[i]:null}function be(n,i,r,u){var f=we(n,i);return(f==null&&(f=r),u==t&&(u=!0),u)?decodeURIComponent(f):f}function ka(n,t,i){return parseInt(be(n,t,""+i))}function ke(n){this.s=n;this.o=[];this.id=-1}function da(n,t){return gi.div(n,t)}function ga(n,t){return gi.mod(n,t)}function de(){}function nv(){return n.DeviceMotionEvent}function tv(){return n.DeviceOrientationEvent}function iv(){dt=0;gt=0;ni=0;ti=0;ii=0;ri=0;eu=0;ou=0;su=0;hu=0;cu=0;lu=0;n.DeviceMotionEvent&&o(n,rf,ge);n.DeviceOrientationEvent&&o(n,uf,no)}function rv(){n.DeviceMotionEvent&&y(n,rf,ge);n.DeviceOrientationEvent&&y(n,uf,no)}function ge(n){dt=n.accelerationIncludingGravity.x;gt=n.accelerationIncludingGravity.y;ni=n.accelerationIncludingGravity.z;ti=.8*ti+.2*dt;ii=.8*ii+.2*gt;ri=.8*ri+.2*ni;eu=dt-ti;ou=gt-ii;su=ni-ri}function no(n){hu=n.alpha;cu=n.beta;lu=n.gamma}function uv(){return dt}function fv(){return gt}function ev(){return ni}function ov(){return ti}function sv(){return ii}function hv(){return ri}function cv(){return eu}function lv(){return ou}function av(){return su}function vv(){return hu}function yv(){return cu}function pv(){return lu}function io(n){this.o=new Array(n);this.n=0}function nr(){return s.vibrate=s.vibrate||s.webkitVibrate||s.mozVibrate||s.msVibrate,!!s.vibrate}function wv(){(s.vibrate||nr())&&s.vibrate(99999)}function bv(){(s.vibrate||nr())&&s.vibrate(0)}function kv(n){(s.vibrate||nr())&&s.vibrate(n)}var u=n.document,au=n.location,s=n.navigator,vu="canvas",ro="keydown",uo="keyup",tr="touchstart",ir="touchmove",rr="touchend",yu="span",ui="on",pu="2d",ur="left",fr="bottom",fi="mousedown",wu="mousemove",er="mouseout",or="mouseover",ei="mouseup",fo="?",sr="=",ft="igm",w=",",eo="circle",oo="poly",so="rect",ho=" ",ht="'",bu=";font:",oi="px ",co="position:absolute",ku="position:absolute;left:",du="px;top:",lo="px;color:",si="audio",ao="no",hr="src",vo="autoplay",ct="true",cr="loop",yo="bgsound",po="infinite",wo="embed",bo="autostart",ko="hidden",go="false",ns="width",gu="1",ts="height",is="repeat",rs="px;width:",us="px;height:",fs="px",es="shape",os="coords",nf="img",ss="usemap",hs="#",cs="border",ls="0",as="map",vs="name",ys="area",ps="geolocation",tf="rgb(",lr=")",ws="{",bs="}",ks="[",ds="]",gs="(",rf="devicemotion",uf="deviceorientation",di,d,kt,l,gi,to;n._USE_AUDIOEX=!1;n._USE_DRAWSTRINGEX=!1;n._USE_EXCANVAS=!1;n._USE_KEY=!1;n._USE_MOUSE=!1;n._USE_TOUCH=!1;n._USE_LAYOUTMOUSE=!1;n._USE_LAYOUTTOUCH=!1;n._USE_REQUESTANIMATIONFRAME=!1;var hi=!1,ci,lt,g,e,i,at,li,vt=0,f,et=!1,r=[],ai,vi,yi=!1,v=[],nt=[],tt,it,rt,ut,yt,a=[],h,b,ef="visibility:hidden;position:absolute;left:0;top:0";var uu=!1,ue=0,fe=0,ee=0,oe=0,se=0,he=0,ce=0,le=0,ae=0;ve.prototype={setEnableHighAccuracy:function(n){this._enable_high_accuracy=n},setMaximumAgeSeconds:function(n){this._maximum_age=n*1e3},setTimeoutSeconds:function(n){this._timeout=n*1e3},stop:function(){uu&&(uu=!1,s.geolocation.clearWatch(ue))},start:function(){this.stop();var n={enableHighAccuracy:this._enable_high_accuracy,maximumAge:this._maximum_age,timeout:this._timeout};ue=s.geolocation.watchPosition(ua,fa,n);uu=!0},latitude:function(){return fe},longitude:function(){return ee},accuracy:function(){return oe},altitude:function(){return se},altitudeAccuracy:function(){return he},heading:function(){return ce},speed:function(){return le},timestamp:function(){return ae}};fu.prototype={canUseClip:function(){return!!i.clip},canUseText:function(){return!!i.fillText},getColorOfRGB:function(n,t,i){return tf+n+w+t+w+i+lr},setStrokeWidth:function(n){i.lineWidth=n},setColor:function(n){rt=n;i.fillStyle=rt;i.strokeStyle=rt},setAlpha:function(n){i.globalAlpha=n/255},setROP:function(n){i.globalCompositeOperation=n},setFont:function(n,t){wr(n,t);i.font=""+ut+oi+yt},stringWidth:function(n){return br(n)},fontHeight:function(){return kr()},clearClip:function(){i.restore();i.save()},setClip:function(n,t,r,u){!i.clip||(i.restore(),i.save(),i.beginPath(),i.moveTo(n,t),i.lineTo(n+r,t),i.lineTo(n+r,t+u),i.lineTo(n,t+u),i.closePath(),i.clip())},drawLine:function(n,t,r,u){i.beginPath();i.moveTo(n+.5,t+.5);i.lineTo(r+.5,u+.5);i.stroke();i.closePath()},drawRect:function(n,t,r,u){i.strokeRect(n+.5,t+.5,r,u)},fillRect:function(n,t,r,u){i.fillRect(n,t,r,u)},drawCircle:function(n,t,r){i.beginPath();i.arc(n,t,r,0,Math.PI*2,!1);i.stroke()},drawString:function(n,t,r){i.fillText?i.fillText(n,t,r):_USE_DRAWSTRINGEX&&pf(n,t,r)},setFlipMode:function(n){this.f=n},drawScaledImage:function(n,t,r,u,f,e,o,s,h){if(this.f==0)try{i.drawImage(n,e,o,s,h,t,r,u,f)}catch(c){}else{i.save();i.setTransform(1,0,0,1,0,0);switch(this.f){case 1:i.translate(t+u,r);i.scale(-1,1);break;case 2:i.translate(t,r+f);i.scale(1,-1);break;case 3:i.translate(t+u,r+f);i.scale(-1,-1)}try{i.drawImage(n,e,o,s,h,0,0,u,f)}catch(c){}i.restore()}},drawImage:function(n,t,i){this.drawScaledImage(n,t,i,n.width,n.height,0,0,n.width,n.height)},drawTransImage:function(n,t,r,u,f,e,o,s,h,c,l,a){i.save();i.setTransform(1,0,0,1,0,0);i.translate(t,r);i.rotate(Math.PI*c/180);i.scale(l/128,a/128);i.translate(-s,-h);try{i.drawImage(n,u,f,e,o,0,0,e,o)}catch(v){}i.restore()}};ye.prototype={canUseClip:function(){return!!i.clip},canUseText:function(){return!!i.fillText},setScale:function(n){this.s=n},scale:function(){return this.s},getColorOfRGB:function(n,t,i){return tf+n+w+t+w+i+lr},setStrokeWidth:function(n){i.lineWidth=n*this.s},setColor:function(n){rt=n;i.fillStyle=rt;i.strokeStyle=rt},setAlpha:function(n){i.globalAlpha=n/255},setROP:function(n){i.globalCompositeOperation=n},setFont:function(n,t){wr(Math.floor(n*this.s),t);i.font=""+ut+oi+yt},stringWidth:function(n){return this.s==0?0:br(n)/this.s},fontHeight:function(){return this.s==0?0:kr()/this.s},clearClip:function(){i.restore();i.save()},setClip:function(n,t,r,u){!i.clip||(i.restore(),i.save(),i.beginPath(),i.moveTo(n*this.s,t*this.s),i.lineTo(n*this.s+r*this.s,t*this.s),i.lineTo(n*this.s+r*this.s,t*this.s+u*this.s),i.lineTo(n*this.s,t*this.s+u*this.s),i.closePath(),i.clip())},drawLine:function(n,t,r,u){i.beginPath();i.moveTo((n+.5)*this.s,(t+.5)*this.s);i.lineTo((r+.5)*this.s,(u+.5)*this.s);i.stroke();i.closePath()},drawRect:function(n,t,r,u){i.strokeRect((n+.5)*this.s,(t+.5)*this.s,r*this.s,u*this.s)},fillRect:function(n,t,r,u){i.fillRect(n*this.s,t*this.s,r*this.s,u*this.s)},drawCircle:function(n,t,r){i.beginPath();i.arc(n*this.s,t*this.s,r*this.s,0,Math.PI*2,!1);i.stroke()},drawString:function(n,t,r){i.fillText?i.fillText(n,t*this.s,r*this.s):_USE_DRAWSTRINGEX&&pf(n,t*this.s,r*this.s)},setFlipMode:function(n){this.f=n},drawScaledImage:function(n,t,r,u,f,e,o,s,h){if(this.f==0)try{i.drawImage(n,e,o,s,h,t*this.s,r*this.s,u*this.s,f*this.s)}catch(c){}else{i.save();i.setTransform(1,0,0,1,0,0);switch(this.f){case 1:i.translate((t+u)*this.s,r*this.s);i.scale(-this.s,this.s);break;case 2:i.translate(t*this.s,(r+f)*this.s);i.scale(this.s,-this.s);break;case 3:i.translate((t+u)*this.s,(r+f)*this.s);i.scale(-this.s,-this.s)}try{i.drawImage(n,e,o,s,h,0,0,u,f)}catch(c){}i.restore()}},drawImage:function(n,t,i){this.drawScaledImage(n,t,i,n.width,n.height,0,0,n.width,n.height)},drawTransImage:function(n,t,r,u,f,e,o,s,h,c,l,a){i.save();i.setTransform(1,0,0,1,0,0);i.translate(t*this.s,r*this.s);i.rotate(Math.PI*c/180);i.scale(l*this.s/128,a*this.s/128);i.translate(-s,-h);try{i.drawImage(n,u,f,e,o,0,0,e,o)}catch(v){}i.restore()}};di=0;pe.prototype={lock:function(){this.sav_canvas=e;this.sav_context=i;this.sav_lock=at;e=this.canvas;i=this.context;at=!0;i.clearRect(0,0,e.width,e.height);i.save()},unlock:function(){i.restore();e=this.sav_canvas;i=this.sav_context;at=this.sav_lock;this.image.src=this.canvas.toDataURL()},getWidth:function(){return this.canvas.width},getHeight:function(){return this.canvas.height},getImage:function(){return this.image}};ke.prototype={clear:function(){for(var n=0;n<this.o.length;n++)re(this.o[n]);this.o=[]},add:function(n,t,i,r,u){this.o[this.o.length]=ru(e,this.s,n,t,i,r);this.o[this.o.length-1].id=u},addArea:function(n,t,i,r,u,f,o,s){this.o[this.o.length]=ru(e,this.s,n,t,i,r,f,o,s);this.o[this.o.length-1].id=u},get:function(n){for(var t=0;t<this.o.length;t++)if(this.o[t].id==n)return this.o[t];return null},check:function(){return this.id},handleEvent:function(n,t){var i;switch(n){case 0:for(i=0;i<this.o.length;i++)if(t==bt(this.o[i])){processEvent(6,this.o[i].id);break}break;case 1:for(i=0;i<this.o.length;i++)if(t==bt(this.o[i])){this.id=-1;break}break;case 2:for(i=0;i<this.o.length;i++)if(t==bt(this.o[i])){this.id=this.o[i].id;break}break;case 3:for(i=0;i<this.o.length;i++)if(t==bt(this.o[i])){processEvent(7,this.o[i].id);break}break;case 14:for(i=0;i<this.o.length;i++)p(this.o[i])}}};gi={div:function(n,t){return n<0?Math.ceil(n/t):Math.floor(n/t)},mod:function(n,t){return n<0?(n=-n,-(n-Math.floor(n/t)*t)):n-Math.floor(n/t)*t}};de.prototype={next:function(n){return Math.random()<.5?-Math.floor(Math.random()*n):Math.floor(Math.random()*n)},nextInt:function(){return Math.random()<.5?-Math.floor(Math.random()*2147483648):Math.floor(Math.random()*2147483648)}};var dt=0,gt=0,ni=0,ti=0,ii=0,ri=0,eu=0,ou=0,su=0,hu=0,cu=0,lu=0;to={arraycopy:function(n,t,i,r,u){for(var f=0;f<u;f++)i[r+f]=n[t+f]}};io.prototype={size:function(){return this.n},isEmpty:function(){return this.n==0},elementAt:function(n){return this.o[n]},firstElement:function(){return this.o[0]},lastElement:function(){return this.o[this.n-1]},setElementAt:function(n,t){t>=0&&t<this.n&&(this.o[t]=n)},removeElementAt:function(n){if(n>=0&&n<this.n){for(this.i=n;this.i<this.n-1;this.i++)this.o[this.i]=this.o[this.i+1];this.n--}},insertElementAt:function(n,t){if(t>=0&&t<this.n){for(this.i=this.n-1;this.i>=t;this.i--)this.o[this.i+1]=this.o[this.i];this.o[t]=n;this.n++}},addElement:function(n){this.o[this.n]=n;this.n++},removeAllElements:function(){this.n=0}};n.canUseCanvas=ff;n.d2js_onload=nh;n.d2js_onorientationchange=th;n.d2js_onresize=ih;n.setTimer=of;n.killTimer=rh;n.repaint=sf;n.setCurrent=uh;n.setGraphics=fh;n.getCurrent=eh;n.getCurrentContext=oh;n.getGraphics=sh;n.setCanvasSize=hh;n.getWidth=ar;n.getHeight=vr;n.getBrowserWidth=ch;n.getBrowserHeight=lh;n.getOrientation=ah;n.readParameter=cf;n.readParameters=vh;n.getParameter=yh;n.getResImage=ph;n.getResString=wh;n.currentTimeMillis=ot;n.setKeyArray=bh;n.keyBit=yr;n.getKeypadState=gh;n.clearLayout=tc;n.addLayout=lf;n.addLayoutArea=ic;n.getLayout=rc;n.checkLayout=st;n.getLayoutState=uc;n.layoutBit=fc;n.getMouseX=sc;n.getMouseY=hc;n.touchNum=vc;n.getTouchX=yc;n.getTouchY=pc;n.launch=wc;n.setFont=wr;n.stringWidth=br;n.fontHeight=kr;n.canUseAudio=wf;n.canPlayType=bc;n.loadAudio=dc;n.loadAudioEx=gr;n.loadAndPlayAudio=gc;n.loadAndPlayAudioEx=bf;n.isLoaded=nl;n.stopAudio=kf;n.stopAudioEx=df;n.reloadAudio=tl;n.playAudio=il;n.playAudioEx=nu;n.isPlaying=rl;n.isPlayingEx=gf;n.pauseAudio=ne;n.restartAudio=ul;n.setVolume=fl;n.getVolume=el;n.getCurrentTime=ol;n.loadAndPlayAudioSprite=cl;n.playAudioSprite=tu;n.buttonElement=bt;n.buttonX=ll;n.buttonY=al;n.buttonWidth=vl;n.buttonHeight=yl;n.setButtonSrc=iu;n.updateButtonPos=p;n.setButtonX=pl;n.setButtonY=wl;n.setButtonPos=bl;n.setButtonWidth=kl;n.setButtonHeight=dl;n.setButtonSize=gl;n.setButtonPosSize=te;n.setButtonArea=ie;n.createButton=ru;n.createButtonArea=na;n.attachButton=ta;n.attachButtonArea=ia;n.removeButton=re;n.canUseGeolocation=ra;n._Geolocation=ve;n._Graphics=fu;n._ScalableGraphics=ye;n.loadImage=ea;n.isImageBusy=oa;n._Image=pe;n.jsonInit=sa;n.jsonAdd=ha;n.jsonAddString=ca;n.jsonOut=la;n.jsonArrayInit=aa;n.jsonArrayAdd=va;n.jsonArrayOut=ya;n.jsonResponse=pa;n.jsonGetSize=wa;n.jsonGetKeys=ba;n.jsonGetObject=we;n.jsonGetString=be;n.jsonGetInteger=ka;n._Layout=ke;n._Math=gi;n._DIV=da;n._MOD=ga;n._Random=de;n.canUseDeviceMotion=nv;n.canUseDeviceOrientation=tv;n.sensorStart=iv;n.sensorStop=rv;n.getAccelX=uv;n.getAccelY=fv;n.getAccelZ=ev;n.getGravityX=ov;n.getGravityY=sv;n.getGravityZ=hv;n.getLinearAccelX=cv;n.getLinearAccelY=lv;n.getLinearAccelZ=av;n.getAzimuth=vv;n.getPitch=yv;n.getRoll=pv;n._System=to;n._Vector=io;n.canUseVibration=nr;n.startVibrate=wv;n.stopVibrate=bv;n.vibrate=kv;n._KEY_BACKSPACE=8;n._KEY_TAB=9;n._KEY_ENTER=13;n._KEY_SELECT=n._KEY_ENTER;n._KEY_SHIFT=16;n._KEY_CTRL=17;n._KEY_SPACE=32;n._KEY_LEFT=37;n._KEY_UP=38;n._KEY_RIGHT=39;n._KEY_DOWN=40;n._KEY_0=48;n._KEY_1=49;n._KEY_2=50;n._KEY_3=51;n._KEY_4=52;n._KEY_5=53;n._KEY_6=54;n._KEY_7=55;n._KEY_8=56;n._KEY_9=57;n._KEY_A=65;n._KEY_B=66;n._KEY_C=67;n._KEY_D=68;n._KEY_E=69;n._KEY_F=70;n._KEY_G=71;n._KEY_H=72;n._KEY_I=73;n._KEY_J=74;n._KEY_K=75;n._KEY_L=76;n._KEY_M=77;n._KEY_N=78;n._KEY_O=79;n._KEY_P=80;n._KEY_Q=81;n._KEY_R=82;n._KEY_S=83;n._KEY_T=84;n._KEY_U=85;n._KEY_V=86;n._KEY_W=87;n._KEY_X=88;n._KEY_Y=89;n._KEY_Z=90;n._ROP_COPY="source-over";n._ROP_ADD="lighter";n._FLIP_NONE=0;n._FLIP_HORIZONTAL=1;n._FLIP_VERTICAL=2;n._FLIP_ROTATE=3;n._BUTTON_DOWN_EVENT=0;n._BUTTON_OUT_EVENT=1;n._BUTTON_OVER_EVENT=2;n._BUTTON_UP_EVENT=3;n._KEY_PRESSED_EVENT=4;n._KEY_RELEASED_EVENT=5;n._LAYOUT_DOWN_EVENT=6;n._LAYOUT_UP_EVENT=7;n._MOUSE_DOWN_EVENT=8;n._MOUSE_MOVE_EVENT=9;n._MOUSE_OUT_EVENT=10;n._MOUSE_OVER_EVENT=11;n._MOUSE_UP_EVENT=12;n._ORIENTATIONCHANGE_EVENT=13;n._RESIZE_EVENT=14;n._TOUCH_START_EVENT=15;n._TOUCH_MOVE_EVENT=16;n._TOUCH_END_EVENT=17;n._GEOLOCATION_ERROR=0;n._GEOLOCATION_PERMISSION_DENIED=1;n._GEOLOCATION_POSITION_UNAVAILABLE=2;n._GEOLOCATION_TIMEOUT=3;n._GEOLOCATION_SUCCESS=4})(window)