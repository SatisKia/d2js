<!DOCTYPE html>
<html>
<head>
<meta charset="Shift_JIS" />
<title>D2JSドキュメント</title>
</head>
<body>

<p>
<table border="0" width="100%" cellpadding="3" cellspacing="0">
<tr height="100">
<td bgcolor="#cccccc">
<p><font size="+2"><b>キーイベントの処理</b></font></p>
</td>
</tr>
</table>
</p>

<p>キーイベントが発生すると、<b>processEvent()</b> 関数が呼び出されます。この関数の中で、イベントのタイプとパラメータを識別してください。processEvent() 関数の記述例は次のようになります。</p>

<p>
<table border="1" cellpadding="3" cellspacing="0">
<tr>
<td>function processEvent( type, param )<br/>
{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;switch( type )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;case _KEY_PRESSED_EVENT:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switch( param )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case _KEY_Z:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// 「Z」キーが押された<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;case _KEY_RELEASED_EVENT:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switch( param )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case _KEY_Z:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// 「Z」キーが離された<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
}</td>
</tr>
</table>
</p>

<p>イベントのタイプは、<b>_KEY_PRESSED_EVENT</b>／<b>_KEY_RELEASED_EVENT</b> の2種類で、パラメータは、「_Global.h」で定義されている _KEY_〜 です。</p>

<p>
<table border="0" width="100%" cellpadding="0" cellspacing="0">
<tr><td bgcolor="#888888" width="6" height="6"></td><td bgcolor="#888888"></td></tr>
<tr><td bgcolor="#888888"></td><td width="99%"><font size="+2">
<b>押されているキーの判別</b>
</font></td></tr>
</table>
</p>

<p>イベント検知以外に、押されているキーを判別する方法があります。「_Main.js」の <b>getKeypadState()</b> を使用する方法です。使用例を示します。</p>

<p>
<table border="1" cellpadding="3" cellspacing="0">
<tr>
<td>var key = getKeypadState();<br/>
<br/>
if( (key &amp; keyBit( _KEY_Z )) != 0 )<br/>
{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;// 「Z」キーが押されている<br/>
}</td>
</tr>
</table>
</p>

<!--
<p>
<table border="0" width="100%" cellpadding="0" cellspacing="0">
<tr><td bgcolor="#888888" width="6" height="6"></td><td bgcolor="#888888"></td></tr>
<tr><td bgcolor="#888888"></td><td width="99%"><font size="+2">
<b></b>
</font></td></tr>
</table>
</p>
-->

</body>
</html>
